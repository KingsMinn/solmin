---
title: 250917-meowhere-unstable-cache
date: 2025-09-17
updated: 2025-09-17
tags:
  - status/evergreen
  - type/memoir
published: false
aliases: []
---
# 데이터 관리: 백엔드 제약 극복을 위한 [[250917-unstable-cache|unstable-cache]] 활용
[깃허브](https://github.com/KingsMinn/Meowhere-Deploy?tab=readme-ov-file#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B4%80%EB%A6%AC-%EB%B0%B1%EC%97%94%EB%93%9C-%EC%A0%9C%EC%95%BD-%EA%B7%B9%EB%B3%B5%EC%9D%84-%EC%9C%84%ED%95%9C-unstable_cache-%ED%99%9C%EC%9A%A9)
## 문제 정의
'가격 분포 그래프' UI를 구현하기 위해 가격 데이터만 필요했으나, 주어진 백엔드 API에는 전체 체험 목록을 반환하는 엔드포인트만 존재함. 매번 불필요한 전체 데이터를 가져와 클라이언트에서 가공하는 것은 극심한 성능 저하와 비효율을 유발함.
또한 평균치에서 크게 벗어난 가격(outlier)이 존재하여 가격 분포가 균일하지 않았음.

## 해결 과정
### 대안 분석
부트캠프 환경의 제약 상 백엔드 API 추가 요청이 불가능했으므로, 프론트엔드 단에서 비효율을 최소화하는 방법에 집중함.
캐싱 처리를 하되, 가격 분포 그래프는 데이터의 양은 많으나 실시간성과 정확도가 크게 중요하지 않으므로 캐싱을 자주 하지 않아도 됨.

### 최종 선택
- Next.js의 실험적 기능인 `unstable_cache`를 도입함. 최초 요청 시에만 전체 데이터를 가져와 가격 정보만 추출 및 가공하고, 그 결과를 unstable_cache를 통해 1시간 동안 서버 단에서 캐싱함. 이를 통해 별도의 API나 데이터베이스 없이도 백엔드의 제약을 극복하고 효율적인 데이터 제공이 가능해짐.
- 또한, 데이터 시각화의 정확성을 높이기 위해 통계적 이상치(outlier)를 제거하는 로직을 추가하여 UX를 개선함.

### 결과
불필요한 Fetching을 매우 크게 감소시켜 서버 부하를 줄임. 사용자는 거의 실시간에 가까운 빠른 속도로 가격 분포 데이터를 탐색할 수 있게 되어, 서비스의 핵심인 탐색 경험이 크게 향상됨.

### 확장
이 캐싱 전략을 백엔드 요청이 불가능한 다른 데이터(지역 목록 등)에도 확장 적용한다면, 서비스의 성능과 안정성을 한 단계 더 높일 수 있음.
