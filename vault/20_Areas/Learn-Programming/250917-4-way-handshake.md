---
title: 헤어질 때는 4-way handshake
date: 2025-09-17
updated: 2025-09-17
tags:
published: false
aliases: []
---
# 헤어질 때는 4-way handshake
만나는 것만큼 중요한 것이 바로 '헤어지는' 과정입니다. [[250917-TCP|TCP]] 연결을 끊을 때는 3번이 아닌 **4번의 악수**가 필요합니다.

- **비유: '무전기 통신 종료하기'** 두 명의 군인이 무전기로 통신하고 있다고 상상해보세요.
    
    1. **솔민:** "나는 할 말 다했다. 이제 통신을 끊겠다. 오버." (`FIN` 신호)
    2. **서버:** "네가 할 말 다했다는 건 알겠다. 알겠다. 오버." (`ACK` 신호) _(하지만 서버는 아직 보낼 데이터가 남아있을 수 있습니다. 그래서 바로 끊지 않고, 자기 데이터를 마저 보냅니다.)_
    3. **서버:** (자기가 보낼 데이터를 모두 보낸 뒤) "나도 이제 진짜 할 말 다했다. 통신을 종료하겠다. 오버." (`FIN` 신호)
    4. **솔민:** "네가 할 말 다했다는 것도 알겠다. 이제 진짜 종료한다. 오버 앤 아웃." (`ACK` 신호)
        
이처럼 한쪽이 "나 끝났어"라고 말해도, 다른 쪽이 아직 할 말이 남아있을 수 있기 때문에, 각자가 **'종료 선언(FIN)'** 과 그에 대한 **'확인 응답(ACK)'** 을 별도로 주고받는 4단계의 과정을 거쳐야 안전하게 연결이 종료됩니다.
